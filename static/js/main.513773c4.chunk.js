(this["webpackJsonpcombo-lock-helper"]=this["webpackJsonpcombo-lock-helper"]||[]).push([[0],{41:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(33),r=n(2),i=n.n(r),o=n(34),c=n.n(o),l=n(18),s=n(36),u=n(27),h=n(3),m=n(17),f=n(11),b=100,d=50,g=window.requestAnimationFrame;function p(e,t){return{totalAngle:e,number:t,angleTurned:0}}function E(e,t,n,a,r){var i=e.getContext("2d"),o=e.width/2,c=.67*e.height;i.translate(o,c);var l,s=d,u=0,h=b,m="unlock",f=!0,E=!1,v=t;function k(e){return 2*e*Math.PI/v}function O(){i.save(),i.translate(-o,-c),i.clearRect(0,0,e.width,e.height),i.restore()}function T(e){i.beginPath();var t,n=-Math.PI/2,a=1.5*Math.PI;i.lineWidth=.02*e,i.strokeStyle="black",i.beginPath(),i.arc(0,0,e,n,a,!1),i.fillStyle="black",i.fill(),i.stroke(),i.beginPath(),i.strokeStyle="white";for(var r=n;r<a;r+=2*Math.PI/v){var o=e*Math.cos(r),c=e*Math.sin(r);i.moveTo(o,c),o=.9*e*Math.cos(r),c=.9*e*Math.sin(r),i.lineTo(o,c)}i.stroke(),i.beginPath(),i.lineWidth=.03*e;for(var l=n;l<a;l+=2*Math.PI/v*5){var s=e*Math.cos(l),u=e*Math.sin(l);i.moveTo(s,u),s=.8*e*Math.cos(l),u=.8*e*Math.sin(l),i.lineTo(s,u)}i.stroke(),i.beginPath(),t=v>40?Math.round(.2*e)/(v/40):Math.round(.2*e),i.fillStyle="white",i.font=t+"pt Arial";for(var h=0;h<v;h+=5)i.save(),i.rotate(2*Math.PI/v*h),v>40?h<10?i.fillText(""+h,-e*t*.0033,-e*(.6+.001*(v-40))):i.fillText(""+h,-e*t*.006,-e*(.6+.001*(v-40))):h<10?i.fillText(""+h,.07*-e,.58*-e):i.fillText(""+h,.13*-e,.58*-e),i.restore();var m=.5*e,f=.43*e;i.lineWidth=.01*e,i.beginPath(),i.strokeStyle="#303030",i.arc(0,0,m,n,a,!1);for(var b=n;b<a;b+=Math.PI/40){var d=m*Math.cos(b),g=m*Math.sin(b);i.moveTo(d,g),d=f*Math.cos(b),g=f*Math.sin(b),i.lineTo(d,g)}i.arc(0,0,f,n,a,!1),i.stroke()}function y(e){var t=.9*e,n=t-.3*e,a=0-2.5*e+e,r=a+e,o=r-.2*e,c=-(t-.2*e);i.beginPath(),i.lineWidth=.03*e,i.strokeStyle="black",i.moveTo(t,0),i.lineTo(t,a),i.arc(0,a,t,0,Math.PI,!0),i.lineTo(-t,r),i.lineTo(-n,r),i.lineTo(-n,o),i.lineTo(c,o),i.arc(-n,o,.15*e,Math.PI,3*Math.PI/2,!1),i.lineTo(-n,a),i.arc(0,a,n,Math.PI,0,!1),i.lineTo(n,0),i.lineTo(t,0),i.fillStyle="#c0c0c0",i.fill(),i.stroke()}function S(e){var t=-3*Math.PI/4,n=5*Math.PI/4;i.beginPath(),i.arc(0,.1*-e,1.2*e,t,n,!1),i.lineWidth=.03*e,i.strokeStyle="black",i.fillStyle="#c0c0c0",i.fill(),i.stroke(),i.beginPath(),i.lineWidth=.01*e,i.strokeStyle="#e30000",i.moveTo(0,-e),i.lineTo(.1*-e,1.15*-e),i.lineTo(.1*e,1.15*-e),i.lineTo(0,-e),i.fillStyle="#e30000",i.fill(),i.stroke()}function P(){if(0!==l.length){var e=Math.abs(l[0].totalAngle)-l[0].angleTurned,t=l[0].angleTurned/Math.abs(l[0].totalAngle)*Math.PI,o=s/d*(Math.sin(t+Math.PI/12)+.5)*l[0].totalAngle/90;e>0?(e<Math.abs(l[0].totalAngle)/180?l[0].totalAngle>0?(u+=e,l[0].angleTurned+=e):(u-=e,l[0].angleTurned+=e):(u+=o,l[0].angleTurned+=Math.abs(o)),O(),w(),g((function(){P()}))):l.length>1?"unlock"===m?(l.shift(),setTimeout((function(){g((function(){P()}))}),1e3*d/s)):l[0].number===l[1].number?(l.shift(),setTimeout((function(){g((function(){P()}))}),1e3*d/s)):(l.shift(),a()):"reset"===m?(n(),m="unlock"):(l=[],a(),f&&!E&&(!function e(t){h>.75*b&&f?(O(),h-=.01*b,w(),g((function(){e(t)}))):t<.8*h&&f?(O(),i.save(),i.translate(0,-t),y(h),i.restore(),t+=.03*h,S(h),i.save(),i.rotate(u),T(h),i.restore(),g((function(){e(t)}))):r()}(0),E=!0))}}function w(){y(h),S(h),i.save(),i.rotate(u),T(h),i.restore()}return{drawLock:w,openLock:function(e,t,n,a,r){r&&(m="stepByStep"),(l=[]).push(p(k(a),1)),l.push(p(k(a),1)),l.push(p(k(a-e),1)),l.push(p(k(-a),2)),t>e?l.push(p(k(-(t-e)),2)):l.push(p(k(-a+e-t),2)),t>n?l.push(p(k(t-n),3)):l.push(p(k(t+a-n),3)),f=!0,P()},nextStep:function(){P()},reset:function(){"reset"!==m&&(f=!1,m="reset",(l=[]).push(p(2*Math.PI-u%(2*Math.PI),0)),P(),E&&function e(){h<b?(h+=.01*b,g((function(){e()}))):E=!1}())},setSpeed:function(e){s=e},setNumbersOnDial:function(e){v=e}}}var v=70,k=Object(u.a)({id:"lock-helper",initial:"start",context:{step:0,animating:!1},states:{start:{on:{UNLOCK:{target:"unlocking",actions:Object(h.b)({animating:!0})},STEP_BY_STEP:{target:"stepping",actions:Object(h.b)({step:1,animating:!0})}}},unlocking:{on:{ROTATION_DONE:{target:"unshackling"},RESET:{target:"resetting",actions:Object(h.b)({animating:!0})}}},resetting:{on:{RESET_DONE:{target:"start",actions:Object(h.b)({animating:!1})}}},stepping:{initial:"active",states:{active:{on:{ROTATION_DONE:{target:"idle",cond:function(e){return e.step<3}}}},idle:{on:{NEXT_STEP:{target:"active",actions:Object(h.b)({step:function(e,t){return e.step<3?e.step+1:3}})}}}},on:{RESET:{target:"resetting",actions:Object(h.b)({step:0})},ROTATION_DONE:{target:"unshackling"}}},unshackling:{initial:"active",states:{active:{on:{SHACKLE_DONE:{target:"idle"}}},idle:{}},on:{RESET:{target:"resetting"}}}}});var O=function(){var e=i.a.useState(50),t=Object(l.a)(e,2),n=t[0],a=t[1],r=i.a.useState(40),o=Object(l.a)(r,2),c=o[0],u=o[1],h=i.a.useState(10),b=Object(l.a)(h,2),d=b[0],g=b[1],p=i.a.useState(25),O=Object(l.a)(p,2),T=O[0],y=O[1],S=i.a.useState(20),P=Object(l.a)(S,2),w=P[0],M=P[1],x=Object(s.useMachine)(k),j=Object(l.a)(x,3),N=j[0],C=j[1],I=j[2],F=i.a.useState(!1),D=Object(l.a)(F,2),R=D[0],A=D[1];i.a.useEffect((function(){R||(I.onTransition((function(e){return console.log(e.value)})),A(!0))}),[I,R]);var _=i.a.useRef(null),L=i.a.useRef(null);i.a.useEffect((function(){L.current?L.current.setNumbersOnDial(c):L.current=E(_.current,c,(function(){return C("RESET_DONE")}),(function(){return C("ROTATION_DONE")}),(function(){return C("SHACKLE_DONE")})),L.current.drawLock()}),[c,C]),i.a.useEffect((function(){L.current&&L.current.setSpeed(n)}),[n]);var B=function(e){return e>=0&&e<c},W=B(d)&&B(T)&&B(w),q=!N.matches("start"),K=function(){L.current&&W&&(C("UNLOCK"),L.current.openLock(d,T,w,c))},z=function(){if(L.current&&W){C("STEP_BY_STEP");L.current.openLock(d,T,w,c,!0)}},H=function(){L.current&&(C("NEXT_STEP"),L.current.nextStep())},U=function(){L.current&&(C("RESET"),L.current.reset())};return i.a.createElement(f.c,{flexDirection:"column",alignItems:"center"},i.a.createElement(f.d,{as:"h1",color:"primary",fontSize:5,fontFamily:"sans-serif",p:3},"Combo Lock Helper"),i.a.createElement("canvas",{ref:_,width:280,height:360,style:{marginBottom:"10px"}}),i.a.createElement(f.c,{as:"form",onSubmit:function(e){return e.preventDefault()},flexDirection:"column",alignItems:"center",width:"".concat(3*v,"px")},i.a.createElement("fieldset",{style:{border:"none"}},i.a.createElement(f.e,{as:"legend",fontFamily:"sans-serif"},"Enter the combination:"),i.a.createElement(f.c,null,i.a.createElement(m.a,{required:!0,id:"first-number",name:"first-number","aria-label":"First Number in the Combination",type:"number",min:0,max:c-1,value:d,onClick:function(e){return e.target.select()},onChange:function(e){""===e.target.value?g(void 0):g(Number(e.target.value))},disabled:q,backgroundColor:N.matches("start")?"#FFF":"#EEE",width:"".concat(v,"px"),mx:1}),i.a.createElement(m.a,{required:!0,id:"second-number",name:"second-number","aria-label":"Second Number in the Combination",type:"number",min:0,max:c-1,value:T,onClick:function(e){return e.target.select()},onChange:function(e){""===e.target.value?y(void 0):y(Number(e.target.value))},disabled:q,backgroundColor:N.matches("start")?"#FFF":"#EEE",width:"".concat(v,"px"),mx:1}),i.a.createElement(m.a,{required:!0,id:"third-number",name:"third-number","aria-label":"Third Number in the Combination",type:"number",min:0,max:c-1,value:w,onClick:function(e){return e.target.select()},onChange:function(e){""===e.target.value?M(void 0):M(Number(e.target.value))},disabled:q,backgroundColor:N.matches("start")?"#FFF":"#EEE",width:"".concat(v,"px"),mx:1}))),function(){var e,t;return N.matches("start")?(e=i.a.createElement(i.a.Fragment,null,i.a.createElement(f.b,{variant:"primary",width:"2/5",onClick:K},"Unlock"),i.a.createElement(f.b,{variant:"primary",width:"2/5",onClick:z},"Step By Step")),t="space-between"):N.matches("unlocking")||N.matches("resetting")||N.matches("unshackling")?(e=i.a.createElement(f.b,{variant:N.matches("resetting")?"secondaryOutline":"secondary",width:"2/5",onClick:U,disabled:N.matches("resetting")||N.matches("unshackling.active")},"Reset"),t="center"):N.matches("stepping")&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement(f.b,{variant:"secondary",width:"2/5",onClick:U},"Reset"),N.context.step<3&&i.a.createElement(f.b,{variant:N.matches("stepping.active")?"outline":"primary",width:"2/5",onClick:H,disabled:N.matches("stepping.active")},"Next Step")),t=N.context.step<3?"space-between":"center"),i.a.createElement(f.c,{width:"230px",justifyContent:t},e)}(),i.a.createElement(f.c,{width:"330px",justifyContent:"space-between",sx:{padding:"20px"}},i.a.createElement(f.a,null,i.a.createElement(m.b,{htmlFor:"speed",fontFamily:"sans-serif"},"Speed"),i.a.createElement(m.c,{id:"speed",name:"speed",defaultValue:50,step:5,min:10,max:90,onChange:function(e){a(Number(e.target.value))}})),i.a.createElement(f.a,null,i.a.createElement(m.b,{htmlFor:"numbers-on-dial",fontFamily:"sans-serif",color:q?"#888":"#000"},"#s on Dial"),i.a.createElement(m.c,{id:"numbers-on-dial",name:"numbers-on-dial",defaultValue:40,step:10,min:30,max:100,onChange:function(e){return u(Number(e.target.value))},disabled:q})))),i.a.createElement(f.e,{fontSize:1,fontFamily:"sans-serif"},"\xa9 2019 Nik Baltatzis"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(38),y=n(26),S=n.n(y);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=w({},S.a,{buttons:w({},S.a.buttons,{secondaryOutline:{variant:"buttons.primary",color:"secondary",bg:"transparent",boxShadow:"inset 0 0 2px"}}),colors:w({},S.a.colors,{secondary:"#a3005f"})});c.a.render(i.a.createElement(T.a,{theme:M},i.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.513773c4.chunk.js.map